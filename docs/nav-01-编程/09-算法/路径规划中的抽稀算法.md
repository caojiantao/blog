---
title: è·¯å¾„è§„åˆ’ä¸­çš„æŠ½ç¨€ç®—æ³•
permalink: "1710079622214"
---

## èƒŒæ™¯

è€å©†æœ€è¿‘åœ¨å‡†å¤‡é¢è¯•ï¼Œæ•´ç†é¡¹ç›®éš¾ç‚¹æ—¶å¯¹è¿™ä¸ªæŠ½ç¨€ç®—æ³•ä¸ç†è§£ã€‚é‚£æˆ‘å°±å¾—ç«™å‡ºæ¥äº†ğŸ˜€ğŸ˜€

## æŠ½ç¨€ç®—æ³•

æŠ½ç¨€ç®—æ³•æ˜¯æŒ‡åœ¨ä¿æŒæ•°æ®å°½å¯èƒ½ä¸å¤±çœŸçš„å‰æä¸‹ï¼Œå‡å°‘æ•°æ®çš„æ•°é‡ã€‚è·¯å¾„è§„åˆ’ä¸­ï¼ŒæŠ½ç¨€ç®—æ³•å‡å°‘è·¯å¾„ç‚¹çš„æ•°é‡ï¼ŒåŒæ—¶ä¿ç•™è·¯å¾„çš„å½¢çŠ¶ç‰¹å¾ã€‚å¸¸è§çš„æŠ½ç¨€ç®—æ³•æœ‰ Douglas-Peucker ç®—æ³•ã€‚

Douglas-Peucker ç®—æ³•åŸç†å¦‚ä¸‹ï¼›

1. åœ¨æ›²çº¿é¦–å°¾ä¸¤ç‚¹è™šè¿ä¸€æ¡ç›´çº¿ï¼Œè®¡ç®—å…¶ä½™å„ç‚¹åˆ°è¯¥ç›´çº¿çš„è·ç¦»ï¼›
2. é€‰å…¶æœ€å¤§è€…ä¸é˜ˆå€¼ç›¸æ¯”è¾ƒï¼Œè‹¥å°äºé˜ˆå€¼åˆ™å°†é¦–å°¾ä¹‹é—´çš„ç‚¹å…¨éƒ¨èˆå»ï¼›
3. å¦åˆ™ä»¥æ”¹ç‚¹å°†å·²çŸ¥æ›²çº¿åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†ä»ç¬¬ 1 æ­¥å¼€å§‹é‡æ–°å¤„ç†ï¼›

## æ±‚ç‚¹åˆ°çº¿çš„è·ç¦»

ç»“è®ºï¼šd=|Ax0+By0+C|/âˆš(AÂ²+BÂ²)

> æˆ‘èŠ±äº†ä¸€ä¸Šåˆæ‰å¼„æ‡‚è¿™ä¸ªå…¬å¼ã€‚[è¯·é—® d=|Ax0+By0+C|/âˆš(AÂ²+BÂ²) æ˜¯ä»€ä¹ˆå…¬å¼ï¼Ÿä»å“ªé‡Œæ¨å‡ºçš„ï¼Ÿ ](https://www.zhihu.com/question/56356774/answer/153990909)

```javascript
getD(point, point1, point2) {
    // å…ˆä¸¤ç‚¹å¼æ±‚å¾—ç›´çº¿æ–¹ç¨‹ (x-x1)/(x2-x1) = (y-y1)(y2-y1)ï¼Œåˆ©ç”¨äº†ç­‰æ¯”å®šç†
    // ç„¶åå±•å¼€ (y2-y1)x + (x1-x2)y + (x2y1-x1y2)  = 0
    // æœ€ç»ˆè¦å¾—åˆ° Ax + By + c = 0 è¿™ç§å½¢å¼
    let m = (point2.y - point1.y) * point.x + (point1.x - point2.x) * point.y + (point2.x * point1.y - point1.x * point2.y);
    let n = Math.pow(point2.y - point1.y, 2) + Math.pow(point1.x - point2.x, 2);
    // æ ¹æ®ç‚¹åˆ°ç›´çº¿è·ç¦»å…¬å¼ d=|Ax0+By0+C|/âˆš(AÂ²+BÂ²)
    return Math.abs(m) / Math.sqrt(n);
},
```

## Douglas-Peuckerï¼ˆJS ç‰ˆï¼‰

```javascript
douglas(points, threshold) {
    // è·ç¦»é¦–å°¾è¿çº¿æœ€è¿œçš„ç‚¹
    let index = 0, dmax = 0;
    for (let i = 1; i < points.length - 1; i++) {
        let point = points[i];
        let d = this.getD(point, points[0], points[points.length - 1]);
        if (d > dmax) {
            dmax = d;
            index = i;
        }
    }
    if (dmax < threshold) {
        // èˆå¼ƒé¦–å°¾ä¹‹é—´çš„æ‰€æœ‰ç‚¹
        return [points[0], points[points.length - 1]];
    } else {
        // ä»¥è¯¥ç‚¹å°†è¯¥æ®µæ›²çº¿ä¸€åˆ†ä¸ºäºŒï¼Œæ¯ä¸€éƒ¨åˆ†é‡å¤ä¸Šè¿°è¿‡ç¨‹(é€’å½’)
        let left = this.douglas(points.slice(0, index + 1), threshold);
        let right = this.douglas(points.slice(index, points.length), threshold);
        return left.slice(0, -1).concat(right);
    }
}
```

## åœ¨çº¿ä½“éªŒ

[ç‚¹æˆ‘ç‚¹æˆ‘>>](http://live.caojiantao.site:1024/douglas.html)
